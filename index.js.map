{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46110623-cffeede45492ee1adb33fe3c4';\n\nexport function fetchImages(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      return response.json();\n    })\n    .catch(error => {\n      throw new Error(\n        'An error occurred while fetching images. Please try again later.'\n      );\n    });\n}\n","export function renderImages(images) {\n    return images.reduce((acc, item) => {\n        return (\n            acc +\n            `<article class=\"gallery-item\">\n                <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" class=\"gallery-image\" />\n                </a>\n                <ul class=\"info\">\n                    <li class=\"info-item\"><strong>Likes:</strong> ${item.likes}</li>\n                    <li class=\"info-item\"><strong>Views:</strong> ${item.views}</li>\n                    <li class=\"info-item\"><strong>Comments:</strong> ${item.comments}</li>\n                    <li class=\"info-item\"><strong>Downloads:</strong> ${item.downloads}</li>\n                </ul>\n            </article>`\n        );\n    }, '');\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst imagesBoxEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\nlet gallery = null;\n\nfunction showLoader() {\n  loaderEl.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loaderEl.style.display = 'none';\n}\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n\n  // Показуємо лоадер\n  showLoader();\n\n  // Очищаємо галерею перед новим пошуком\n  imagesBoxEl.innerHTML = '';\n\n  fetchImages(query)\n    .then(data => {\n      const { hits } = data;\n\n      if (hits.length === 0) {\n        throw new Error('No images found for this search query.');\n      }\n\n      const imagesMarkup = renderImages(hits);\n      imagesBoxEl.innerHTML = imagesMarkup;\n\n      if (gallery) {\n        gallery.refresh();\n      } else {\n        gallery = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionDelay: 250,\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});"],"names":["BASE_URL","API_KEY","fetchImages","query","params","response","error","renderImages","images","acc","item","searchForm","imagesBoxEl","loaderEl","gallery","showLoader","hideLoader","event","iziToast","data","hits","imagesMarkup","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EACjC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACV,EAEM,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,MAAM,IAAI,MACR,kEACR,CACA,CAAK,CACL,CC1BO,SAASC,EAAaC,EAAQ,CACjC,OAAOA,EAAO,OAAO,CAACC,EAAKC,IAEnBD,EACA;AAAA,2BACeC,EAAK,aAAa;AAAA,gCACbA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,oEAGAA,EAAK,KAAK;AAAA,oEACVA,EAAK,KAAK;AAAA,uEACPA,EAAK,QAAQ;AAAA,wEACZA,EAAK,SAAS;AAAA;AAAA,wBAI/E,EAAE,CACT,CCVA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,EACjD,IAAIC,EAAU,KAEd,SAASC,GAAa,CACpBF,EAAS,MAAM,QAAU,OAC3B,CAEA,SAASG,GAAa,CACpBH,EAAS,MAAM,QAAU,MAC3B,CAEAF,EAAW,iBAAiB,SAAUM,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMd,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAI,CAACd,EAAO,CACVe,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAGDH,IAGAH,EAAY,UAAY,GAExBV,EAAYC,CAAK,EACd,KAAKgB,GAAQ,CACZ,KAAM,CAAE,KAAAC,CAAM,EAAGD,EAEjB,GAAIC,EAAK,SAAW,EAClB,MAAM,IAAI,MAAM,wCAAwC,EAG1D,MAAMC,EAAed,EAAaa,CAAI,EACtCR,EAAY,UAAYS,EAEpBP,EACFA,EAAQ,QAAO,EAEfA,EAAU,IAAIQ,EAAe,aAAc,CACzC,SAAU,GACV,aAAc,GACxB,CAAS,CAET,CAAK,EACA,MAAMhB,GAAS,CACdY,EAAS,MAAM,CACb,MAAO,QACP,QAASZ,EAAM,OACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbU,GACN,CAAK,CACL,CAAC"}